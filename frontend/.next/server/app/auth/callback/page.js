(()=>{var e={};e.id=453,e.ids=[453],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},9988:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>o});var s=t(482),a=t(9108),i=t(2563),n=t.n(i),c=t(8300),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);t.d(r,l);let o=["",{children:["auth",{children:["callback",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5891)),"/mnt/j/GeoScore AI/frontend/src/app/auth/callback/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3403)),"/mnt/j/GeoScore AI/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/mnt/j/GeoScore AI/frontend/src/app/auth/callback/page.tsx"],u="/auth/callback/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/auth/callback/page",pathname:"/auth/callback",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5347:(e,r,t)=>{Promise.resolve().then(t.bind(t,2217))},7060:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(9224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2739:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(9224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2217:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m,dynamic:()=>x});var s=t(5344),a=t(3729),i=t(8428),n=t(8704),c=t(3673),l=t(5094),o=t(2739),d=t(7060);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,t(9224).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),x="force-dynamic";function p(){let[e,r]=(0,a.useState)("loading"),[t,x]=(0,a.useState)(""),p=(0,i.useRouter)(),m=(0,i.useSearchParams)();return(0,a.useEffect)(()=>{(async()=>{try{let{data:e,error:t}=await n.OQ.auth.getSession();if(t){console.error("Auth callback error:",t),r("error"),x(t.message||"Authentication failed");return}let s=m.get("type"),a=m.get("access_token"),i=m.get("refresh_token");if("recovery"===s&&a){let{error:e}=await n.OQ.auth.setSession({access_token:a,refresh_token:i||""});if(e){r("error"),x("Invalid or expired reset link");return}r("success"),x("Password reset link verified. Redirecting to set new password..."),setTimeout(()=>{p.push("/auth/update-password")},2e3);return}if("signup"===s||"invite"===s){e.session?(r("success"),x("Email verified successfully! Redirecting to dashboard..."),setTimeout(()=>{p.push("/dashboard")},2e3)):(r("error"),x("Email verification failed or link has expired"));return}e.session?(r("success"),x("Login successful! Redirecting to dashboard..."),setTimeout(()=>{p.push("/dashboard")},1500)):(r("error"),x("Authentication failed. Please try again."))}catch(e){console.error("Auth callback error:",e),r("error"),x(e.message||"An unexpected error occurred")}})()},[p,m]),s.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 ${(()=>{switch(e){case"loading":return"bg-gradient-to-br from-blue-50 via-white to-purple-50";case"success":return"bg-gradient-to-br from-green-50 via-white to-blue-50";case"error":case"expired":return"bg-gradient-to-br from-red-50 via-white to-orange-50"}})()}`,children:(0,s.jsxs)(c.Zb,{className:"max-w-md w-full",children:[(0,s.jsxs)(c.Ol,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:(()=>{switch(e){case"loading":return s.jsx(o.Z,{className:"h-12 w-12 text-blue-500 animate-spin"});case"success":return s.jsx(d.Z,{className:"h-12 w-12 text-green-500"});case"error":case"expired":return s.jsx(u,{className:"h-12 w-12 text-red-500"})}})()}),s.jsx(c.ll,{className:"text-2xl font-bold text-gray-900",children:(()=>{switch(e){case"loading":return"Verifying...";case"success":return"Success!";case"error":return"Authentication Error";case"expired":return"Link Expired"}})()})]}),s.jsx(c.aY,{children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:t||"Processing your authentication..."}),"error"===e&&(0,s.jsxs)("div",{className:"space-y-3 pt-4",children:[s.jsx(l.z,{onClick:()=>p.push("/auth/login"),className:"w-full",children:"Back to Login"}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[s.jsx("p",{children:"If you continue to have problems:"}),(0,s.jsxs)("ul",{className:"mt-2 space-y-1",children:[s.jsx("li",{children:"• Try requesting a new verification email"}),s.jsx("li",{children:"• Check if the link has expired"}),s.jsx("li",{children:"• Contact support if the issue persists"})]})]})]}),"loading"===e&&s.jsx("div",{className:"pt-4",children:s.jsx("div",{className:"text-sm text-gray-500",children:s.jsx("p",{children:"This may take a few seconds..."})})}),"success"===e&&s.jsx("div",{className:"pt-4",children:s.jsx("div",{className:"text-sm text-gray-500",children:s.jsx("p",{children:"You will be redirected automatically."})})})]})})]})})}function m(){return s.jsx(a.Suspense,{fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,s.jsxs)(c.Zb,{className:"max-w-md w-full",children:[(0,s.jsxs)(c.Ol,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(o.Z,{className:"h-12 w-12 text-blue-500 animate-spin"})}),s.jsx(c.ll,{className:"text-2xl font-bold text-gray-900",children:"Loading..."})]}),s.jsx(c.aY,{children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-600",children:"Processing your authentication..."})})})]})}),children:s.jsx(p,{})})}},3673:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>c,SZ:()=>o,Zb:()=>n,aY:()=>d,ll:()=>l});var s=t(5344),a=t(3729),i=t(1453);let n=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));c.displayName="CardHeader";let l=a.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let o=a.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent",a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},5891:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>i,default:()=>o,dynamic:()=>l});var s=t(6843);let a=(0,s.createProxy)(String.raw`/mnt/j/GeoScore AI/frontend/src/app/auth/callback/page.tsx`),{__esModule:i,$$typeof:n}=a,c=a.default,l=(0,s.createProxy)(String.raw`/mnt/j/GeoScore AI/frontend/src/app/auth/callback/page.tsx#dynamic`),o=c}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[355,282],()=>t(9988));module.exports=s})();