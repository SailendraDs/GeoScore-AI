(()=>{var e={};e.id=882,e.ids=[882],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},5771:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c});var t=r(482),a=r(9108),l=r(2563),n=r.n(l),i=r(8300),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(s,d);let c=["",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9969)),"/mnt/j/GeoScore AI/frontend/src/app/reports/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3403)),"/mnt/j/GeoScore AI/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],o=["/mnt/j/GeoScore AI/frontend/src/app/reports/page.tsx"],x="/reports/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/reports/page",pathname:"/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},472:(e,s,r)=>{Promise.resolve().then(r.bind(r,8797))},340:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(9224).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},5794:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(9224).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6885:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(9224).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3148:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(9224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3733:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(9224).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8765:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(9224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8797:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b,dynamic:()=>v});var t=r(5344),a=r(3729),l=r(8428),n=r(6506),i=r(5094),d=r(6540),c=r(3673),o=r(9591),x=r(8704),m=r(3733),p=r(1838),u=r(8765);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,r(9224).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var g=r(340),f=r(5794),y=r(3148),j=r(6885);let v="force-dynamic";function b(){let[e,s]=(0,a.useState)([]),[r,v]=(0,a.useState)([]),[b,N]=(0,a.useState)(!0),[w,_]=(0,a.useState)(""),[k,Z]=(0,a.useState)("all"),[C,S]=(0,a.useState)("all"),[M,q]=(0,a.useState)(null),P=(0,l.useRouter)();(0,a.useEffect)(()=>{(async()=>{try{let{data:{user:e}}=await x.OQ.auth.getUser();if(!e){P.push("/auth/login");return}q(e);let{data:s}=await x.OQ.from("brands").select("*").eq("owner_id",e.id).order("created_at",{ascending:!1});v(s||[]),await z(e.id)}catch(e){console.error("Error loading data:",e)}finally{N(!1)}})()},[P]);let z=async e=>{try{let r=x.OQ.from("llm_reports").select(`
          id,
          brand_id,
          model_name,
          report_type,
          raw_score,
          generated_at,
          analysis_text,
          brands!inner(name, owner_id)
        `).eq("brands.owner_id",e).order("generated_at",{ascending:!1}).limit(100),{data:t,error:a}=await r;if(a)throw a;let l=t?.map(e=>({...e,brand_name:e.brands?.name||"Unknown Brand"}))||[];s(l)}catch(e){console.error("Error loading reports:",e)}},A=e.filter(e=>{let s=e.brand_name.toLowerCase().includes(w.toLowerCase())||e.model_name.toLowerCase().includes(w.toLowerCase())||e.report_type.toLowerCase().includes(w.toLowerCase()),r="all"===k||e.brand_id===k,t="all"===C||e.model_name===C;return s&&r&&t}),R=async()=>{if(0===r.length){P.push("/onboard");return}let e=r[0].id;P.push(`/reports/generate?brandId=${e}`)},G=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600",I=e=>e>=80?"success":e>=60?"warning":"destructive",L=e=>e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return b?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading your reports..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),t.jsx("p",{className:"text-gray-600",children:"AI visibility reports across all models"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(i.z,{variant:"outline",onClick:()=>window.location.reload(),children:[t.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]}),(0,t.jsxs)(i.z,{onClick:R,children:[t.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Generate Report"]})]})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)(c.Zb,{className:"mb-6",children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{className:"text-lg",children:"Filters"})}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Search"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(u.Z,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),t.jsx(d.I,{placeholder:"Search reports...",value:w,onChange:e=>_(e.target.value),className:"pl-9"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Brand"}),(0,t.jsxs)("select",{value:k,onChange:e=>Z(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Brands"}),r.map(e=>t.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Model"}),(0,t.jsxs)("select",{value:C,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Models"}),["claude-opus","gpt-4o","gemini-pro","grok-beta","mistral-large","llama-3-70b","perplexity-online"].map(e=>t.jsx("option",{value:e,children:L(e)},e))]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Actions"}),t.jsx("div",{className:"flex gap-2",children:(0,t.jsxs)(i.z,{variant:"outline",size:"sm",children:[t.jsx(h,{className:"h-4 w-4 mr-2"}),"More Filters"]})})]})]})})]}),0===A.length?t.jsx(c.Zb,{children:(0,t.jsxs)(c.aY,{className:"flex flex-col items-center justify-center py-16",children:[t.jsx(g.Z,{className:"h-16 w-16 text-gray-400 mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No reports found"}),t.jsx("p",{className:"text-gray-600 text-center mb-6",children:0===e.length?"You haven't generated any reports yet. Create your first brand to get started.":"No reports match your current filters. Try adjusting your search criteria."}),0===e.length&&(0,t.jsxs)(i.z,{onClick:()=>P.push("/onboard"),children:[t.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Create Your First Brand"]})]})}):t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:A.map(e=>(0,t.jsxs)(c.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[t.jsx(c.Ol,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx(c.ll,{className:"text-lg mb-1",children:e.brand_name}),(0,t.jsxs)(c.SZ,{children:[L(e.model_name)," â€¢ ",e.report_type]})]}),(0,t.jsxs)(o.C,{variant:I(e.raw_score),className:"ml-2",children:[Math.round(e.raw_score),"/100"]})]})}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Visibility Score"}),(0,t.jsxs)("span",{className:`font-semibold ${G(e.raw_score)}`,children:[Math.round(e.raw_score),"%"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full ${e.raw_score>=80?"bg-green-500":e.raw_score>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${e.raw_score}%`}})})]}),e.analysis_text&&t.jsx("div",{children:t.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:e.analysis_text})}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[t.jsx(f.Z,{className:"h-4 w-4 mr-1"}),new Date(e.generated_at).toLocaleDateString()]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[t.jsx(n.default,{href:`/reports/${e.id}`,children:(0,t.jsxs)(i.z,{variant:"outline",size:"sm",children:[t.jsx(y.Z,{className:"h-4 w-4 mr-2"}),"View Details"]})}),t.jsx(i.z,{variant:"ghost",size:"sm",children:t.jsx(j.Z,{className:"h-4 w-4"})})]})]})})]},e.id))}),A.length>0&&(0,t.jsxs)(c.Zb,{className:"mt-8",children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{children:"Report Summary"})}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A.length}),t.jsx("div",{className:"text-sm text-gray-600",children:"Total Reports"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(A.reduce((e,s)=>e+s.raw_score,0)/A.length),"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(A.map(e=>e.model_name)).size}),t.jsx("div",{className:"text-sm text-gray-600",children:"Models Tested"})]}),(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:new Set(A.map(e=>e.brand_id)).size}),t.jsx("div",{className:"text-sm text-gray-600",children:"Brands Tracked"})]})]})})]})]})]})}},3673:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>i,SZ:()=>c,Zb:()=>n,aY:()=>o,ll:()=>d});var t=r(5344),a=r(3729),l=r(1453);let n=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let i=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let d=a.forwardRef(({className:e,...s},r)=>t.jsx("h3",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let c=a.forwardRef(({className:e,...s},r)=>t.jsx("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let o=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,l.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},6540:(e,s,r)=>{"use strict";r.d(s,{I:()=>n});var t=r(5344),a=r(3729),l=r(1453);let n=a.forwardRef(({className:e,type:s,...r},a)=>t.jsx("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));n.displayName="Input"},9969:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>c,dynamic:()=>d});var t=r(6843);let a=(0,t.createProxy)(String.raw`/mnt/j/GeoScore AI/frontend/src/app/reports/page.tsx`),{__esModule:l,$$typeof:n}=a,i=a.default,d=(0,t.createProxy)(String.raw`/mnt/j/GeoScore AI/frontend/src/app/reports/page.tsx#dynamic`),c=i}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[355,282],()=>r(5771));module.exports=t})();